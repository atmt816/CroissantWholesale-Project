<head>
  <%- include('../partials/head'); %>
</head>


<style>
  .top-buffer {
    margin-top: 60px;
  }
</style>

<body class="container">
  <header>
    <%- include('../partials/header'); %>
  </header>

  <main class="container pt-5">
    <div class="p-5 mb-4 bg-white rounded-3 top-buffer">
      <h2 class="text-center">
        Order Information

      </h2>
      <a href="/orders" class="link-primary pb-4">Go Back</a>
      <h5 class="pb-1 pt-2">Order</h5>
      <div class="container pt-2">
        <div class="row">
          <div class="col-sm">
            Order ID
            <p class="pt-1">
              <%= order_data[0].order_id %>
            </p>
          </div>
          <div class="col-sm">
            Business Name
            <p class="pt-1">
              <%= customer_data[0].customer_id %>
            </p>
          </div>
          <div class="col-sm">
            Business Name
            <p class="pt-1">
              <%= customer_data[0].business_name %>
            </p>
          </div>

        </div>
      </div>
      <div class="container pt-4">
        <div class="row">
          <div class="col-sm">
            Date Produced
            <p class="pt-1">
              <%= order_data[0].date_produced %>
            </p>
          </div>
          <div class="col-sm">
            Delivery Date
            <p class="pt-1">
              <%= order_data[0].delivery_date %>
            </p>
          </div>
          <div class="col-sm">
            Order Status
            <p class="pt-1">
              <%= order_data[0].status %>
            </p>
          </div>
        </div>
      </div>

      <hr class="hr hr-blurry" />
      <h5>Customer Information</h5>
      <div class="container pt-2">
        <div class="row">
          <div class="col-sm">
            Phone Number
            <p class="pt-1">
              <%= customer_data[0].phone %>
            </p>
          </div>
          <div class="col-sm">
            Email
            <p class="pt-1">
              <%= customer_data[0].email %>
            </p>
          </div>
          <div class="col-sm pb-4">
            Address
            <p class="pt-1">
              <%= customer_data[0].street %>
                <%= customer_data[0].city %>, <%= customer_data[0].state_code_id %>, <%= customer_data[0].zipcode %>
            </p>
          </div>

        </div>
        <hr class="hr hr-blurry" />
        <h5>Order Information</h5>
        <table class="table">
          <thead>
            <tr>
              <th>Product Name</th>
              <th>Quantity</th>
              <th>Price per Unit</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <% order_data.forEach(function(order_data, product) { %>
              <tr>
                <td>
                  <%= order_data.product_name %>
                </td>
                <td>
                  <%= order_data.quantity %>
                </td>
                <td>
                  <%= order_data.price_per_unit %>
                </td>
                <td>
                  <%= order_data.total %>
                </td>
              </tr>
              <% }); %>
          </tbody>
        </table>
        <div class="col-sm">
          Total:
          <p class="pt-1">
            <%= sumtotal %>

          </p>
        </div>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
          Edit
        </button>
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">Update Current Employee</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form action="/employees/update" method="post" class="row g-3">
                  <input class="form-control" name="emp_id" type="hidden" id="emp_id">
                  <div class="col-md-6">
                    <label for="firstname" class="form-label">First Name</label>
                    <input type="text" class="form-control" name="first_name" id="firstname">
                  </div>
                  <div class="col-md-6">
                    <label for="lastname" class="form-label">Last Name</label>
                    <input type="text" class="form-control" name="last_name" id="lastname">
                  </div>
                  <hr class="hr" />
                  <div class="col-md-6">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" name="email" id="email">
                  </div>
                  <div class="col-md-6">
                    <label for="lastname" class="form-label">Phone</label>
                    <input type="phone" class="form-control" name="phone" id="phone">
                  </div>
                  <div class="col-12">
                    <label for="inputAddress" class="form-label">Address</label>
                    <input type="text" class="form-control" name="street" id="street">
                  </div>

                  <div class="col-md-6">
                    <label for="inputCity" class="form-label">City</label>
                    <input type="text" class="form-control" name="city" id="city">
                  </div>
                  <div class="col-md-4">
                    <label for="inputState" class="form-label">State</label>

                  </div>
                  <div class="col-md-2">
                    <label for="inputZip" class="form-label">Zip</label>
                    <input type="text" class="form-control" name="zipcode" id="zipcode" name="zipcode">
                  </div>
                  <div class="col-md-6">
                    <label for="inputRole" class="form-label">Role</label>

                  </div>
                  <div class="col-md-6">
                    <label for="inputstatus" class="form-label">Status</label>
                    <select id="emp_status" name="emp_status" class="form-select">
                      <option selected>Active</option>
                      <option>Terminated</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label for="inputCity" class="form-label">Start Date</label>
                    <input type="text" class="form-control" name="start_date" id="start_date">
                  </div>
                  <div class="col-md-6">
                    <label for="inputCity" class="form-label">End Date</label>
                    <input type="text" class="form-control" name="end_date" id="end_date">
                  </div>


              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" type="button" class="btn btn-primary">Update Employee</button>
                </form>
              </div>
            </div>
          </div>
        </div>


      </div>


  </main>
</body>